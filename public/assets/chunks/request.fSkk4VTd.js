import{E as f}from"./theme.BdKzsvvT.js";const g=async({path:t,method:n,data:o={},params:r={}})=>{let e={};const a={},i=typeof window<"u"?sessionStorage.getItem("uuid"):null;if(i&&i.length>0&&(a["x-uuid"]=i),n=="GET"||n=="DELETE"){const s=new URLSearchParams(r).toString();s&&(t+="?"+s),await fetch(t,{method:n,headers:a}).then(async c=>{e=await c.json()}).catch(c=>{e.code=1,e.message=c})}else a["Content-Type"]="application/json",await fetch(t,{method:n,headers:a,body:JSON.stringify(o)}).then(async s=>{e=await s.json()}).catch(s=>{e.code=1,e.message=s});return e.code!==0&&f.error(e.message),e};export{g as s};
